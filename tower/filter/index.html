<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Conditionally dispatch requests to the inner service based on the result of a predicate."><meta name="keywords" content="rust, rustlang, rust-lang, filter"><title>tower::filter - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Regular.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../FiraSans-Medium.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Regular.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceSerif4-Bold.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../SourceCodePro-Semibold.ttf.woff2"><link rel="stylesheet" type="text/css" href="../../normalize.css"><link rel="stylesheet" type="text/css" href="../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../ayu.css" disabled><link rel="stylesheet" type="text/css" href="../../dark.css" disabled><link rel="stylesheet" type="text/css" href="../../light.css" id="themeStyle"><script id="default-settings" ></script><script src="../../storage.js"></script><script src="../../crates.js"></script><script defer src="../../main.js"></script>
    <noscript><link rel="stylesheet" href="../../noscript.css"></noscript><link rel="alternate icon" type="image/png" href="../../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../../favicon-32x32.png"><link rel="icon" type="image/svg+xml" href="../../favicon.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a class="sidebar-logo" href="../../tower/index.html"><div class="logo-container"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></div>
        </a><h2 class="location"><a href="#">Module filter</a></h2><div class="sidebar-elems"><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li></ul></div><div id="sidebar-vars" data-name="filter" data-ty="mod" data-relpath="./"></div><script defer src="./sidebar-items.js"></script></div></nav><main><div class="width-limiter"><div class="sub-container"><a class="sub-logo-container" href="../../tower/index.html"><img class="rust-logo" src="../../rust-logo.svg" alt="logo"></a><nav class="sub"><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../../brush.svg"></button><div id="theme-choices" role="menu"></div></div><form class="search-form"><div class="search-container"><div>
                                <input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../../wheel.svg"></a></div></form></nav></div><section id="main-content" class="content"><div class="main-heading">
    <h1 class="fqn"><span class="in-band">Module <a href="../index.html">tower</a>::<wbr><a class="mod" href="#">filter</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../clipboard.svg" width="19" height="18" alt="Copy item path"></button></span></h1><span class="out-of-band"><a class="srclink" href="../../src/tower/filter/mod.rs.html#1-191" title="goto source code">source</a> · <a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span></div><div class="item-info"><div class="stab portability">This is supported on <strong>crate feature <code>filter</code></strong> only.</div></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Conditionally dispatch requests to the inner service based on the result of
a predicate.</p>
<p>A predicate takes some request type and returns a <code>Result&lt;Request, Error&gt;</code>.
If the predicate returns <a href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html#variant.Ok" title="Ok"><code>Ok</code></a>, the inner service is called with the request
returned by the predicate — which may be the original request or a
modified one. If the predicate returns <a href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html#variant.Err" title="Err"><code>Err</code></a>, the request is rejected and
the inner service is not called.</p>
<p>Predicates may either be synchronous (simple functions from a <code>Request</code> to
a <a href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="Result"><code>Result</code></a>) or asynchronous (functions returning <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html"><code>Future</code></a>s). Separate
traits, <a href="trait.Predicate.html" title="Predicate"><code>Predicate</code></a> and <a href="trait.AsyncPredicate.html" title="AsyncPredicate"><code>AsyncPredicate</code></a>, represent these two types of
predicate. Note that when it is not necessary to await some other
asynchronous operation in the predicate, the synchronous predicate should be
preferred, as it introduces less overhead.</p>
<p>The predicate traits are implemented for closures and function pointers.
However, users may also implement them for other types, such as when the
predicate requires some state carried between requests. For example,
<a href="trait.Predicate.html" title="Predicate"><code>Predicate</code></a> could be implemented for a type that rejects a fixed set of
requests by checking if they are contained by a a <a href="https://doc.rust-lang.org/nightly/std/collections/hash/set/struct.HashSet.html"><code>HashSet</code></a> or other
collection.</p>
</div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="mod" href="future/index.html" title="tower::filter::future mod">future</a></div><div class="item-right docblock-short"><p>Future types</p>
</div></div></div><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AsyncFilter.html" title="tower::filter::AsyncFilter struct">AsyncFilter</a></div><div class="item-right docblock-short"><p>Conditionally dispatch requests to the inner service based on an
<a href="trait.AsyncPredicate.html">asynchronous predicate</a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.AsyncFilterLayer.html" title="tower::filter::AsyncFilterLayer struct">AsyncFilterLayer</a></div><div class="item-right docblock-short"><p>Conditionally dispatch requests to the inner service based on an asynchronous
<a href="trait.AsyncPredicate.html">predicate</a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Filter.html" title="tower::filter::Filter struct">Filter</a></div><div class="item-right docblock-short"><p>Conditionally dispatch requests to the inner service based on a <a href="trait.Predicate.html">predicate</a>.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.FilterLayer.html" title="tower::filter::FilterLayer struct">FilterLayer</a></div><div class="item-right docblock-short"><p>Conditionally dispatch requests to the inner service based on a synchronous
<a href="trait.Predicate.html">predicate</a>.</p>
</div></div></div><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.AsyncPredicate.html" title="tower::filter::AsyncPredicate trait">AsyncPredicate</a></div><div class="item-right docblock-short"><p>Checks a request asynchronously.</p>
</div></div><div class="item-row"><div class="item-left module-item"><a class="trait" href="trait.Predicate.html" title="tower::filter::Predicate trait">Predicate</a></div><div class="item-right docblock-short"><p>Checks a request synchronously.</p>
</div></div></div></section><section id="search" class="content hidden"></section></div></main><div id="rustdoc-vars" data-root-path="../../" data-current-crate="tower" data-themes="ayu,dark,light" data-resource-suffix="" data-rustdoc-version="1.60.0-nightly (ee5d8d37b 2022-01-17)" ></div>
</body></html>